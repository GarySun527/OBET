{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% block title %}OBET - Search For Literature{% endblock %}
{% block page_content %}
<head>

</head> 

<div class="page-header">
 <h1>Search For Literature</h1>	
</div>

<meta id="searchString" data-name="{{searchString}}">
<meta id="sortString" data-name="{{sortString}}">

{% if searchTerm %}
  {% set searchString = searchTerm %}
{% endif %}

<div class="container">
  <h2>Results</h2>
  <p>References that match your search query:</p>   

<table class="table" >  
    <thead>
      <tr>
		    <th> Title </th>
      	<th> Author </th>
        <th> Primary Field </th>
        <th> Source Title </th>
        <th> Editor </th>
        <th> Year Published </th>
        <th> Type </th>
        <th> Creator </th>
        <th> Date Created </th>
        <th> Last Modified </th>
        <th> Last Modified By </th>
      </tr>
 	</thread> 	
    <tbody>

    {% for l in lit %}

    	<tr>
    		<td><a href="{{ url_for('main.lit', lit_id = l.id) }}">{{l.title}}</a></td> 
    		<td>{{l.author}}</td>
        <td>{{l.primaryField}}</td>
    		<td>{{l.sourceTitle}}</td>
        <td>{{l.editor}}</td>    
        <td>{{l.yearPublished}}</td>
        <td>{{l.refType}}</td>    
        <td>{{l.creator}}</td>
        <td>{{l.created_date}}</td>
        <td>{{l.last_edit.date}}</td>
        <td>{{l.last_edit.lastUserEdited}}</td>
    	</tr>
    {% endfor %}
    </tbody>
</table>
</div>

<br>
<br>

{{ wtf.quick_form(form) }}
 
<!--  <br> 

<form id="sort" action="{{ url_for('main.search', searchStr = searchString) }}">
  Sort By:
  <select name="sortby">
      <option value="title" {% if selected %} {% set sortString = "title" %} {% endif %}> Title </option>
      <option value="type"> Type </option>
      <option value="author"> Author </option>
      <option value="primaryField"> Primary Field </option>
  </select>

</form> <button type="submit" form="sort" value="Sort"> Sort </button> -->

 <p>
 <br>
 Rather do an explicit search?
 <a href="{{ url_for('main.exactSearch') }}">
 Go here instead.
 </a>
</p>
{% endblock %}

